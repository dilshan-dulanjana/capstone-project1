'use client';
"use strict";var e=require("tslib"),s=require("react/jsx-runtime"),r=require("./use-toast.hook.cjs"),o=require("../../icons/Error.cjs"),n=require("../../icons/Info.cjs"),t=require("../../icons/Question.cjs"),a=require("../../icons/Success.cjs"),i=require("../../icons/Warning.cjs"),c=require("../../theme/theme.context.cjs"),l=require("../../theme/variant.context.cjs"),u=require("../../utils/usePropId.cjs"),d=require("react"),m=require("tailwind-merge");const j={closeOnClick:!0,color:"blue",pauseOnHover:!0,radius:"lg",shadow:"base",shadowColor:"gray",showProgress:!0,tone:"solid"},h={error:s.jsx(o.ErrorIcon,{}),info:s.jsx(n.InfoIcon,{}),question:s.jsx(t.QuestionIcon,{}),success:s.jsx(a.SuccessIcon,{}),warning:s.jsx(i.WarningIcon,{})},g=d.forwardRef(((o,n)=>{const t=l.useComponentVariant("Toast",o.variant),a=c.useComponentTheme("Toast"),i=Object.assign(Object.assign(Object.assign({},j),t),o),{actions:g=[],className:p="",closeOnClick:v,color:x,description:O="",duration:b=3e3,halted:q=!1,iconType:w,pauseOnHover:f,radius:C,shadow:N,shadowColor:I,showProgress:k,title:T="",tone:y,variant:E}=i,P=e.__rest(i,["actions","className","closeOnClick","color","description","duration","halted","iconType","pauseOnHover","radius","shadow","shadowColor","showProgress","title","tone","variant"]),[A,F]=d.useState(q),[M,S]=d.useState(q?1e3:0),W=r.useToast(),H=u.usePropId(o.id),R=d.useRef(null),Q=d.useRef(null),$=!!T,_=d.useMemo((()=>m.twMerge(a.toast({className:p,color:x,tone:y,radius:C,shadow:N,shadowColor:I}))),[p,x,y,C,N,I,a]),D=e=>{Q.current||(Q.current=e);e-(Q.current||0)>=50&&(S((e=>e+50)),Q.current=e),R.current=requestAnimationFrame(D)};return d.useEffect((()=>{if(A||(R.current=requestAnimationFrame(D)),f)return()=>{R.current&&cancelAnimationFrame(R.current),Q.current&&cancelAnimationFrame(Q.current)}}),[A]),d.useEffect((()=>{b&&M>=b&&W.remove(H)}),[M]),s.jsxs("div",Object.assign({id:H,ref:n,role:"alert","aria-live":"assertive",onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),className:_},P,{children:[b>0&&k&&s.jsx("div",Object.assign({className:a.progress({color:x,tone:y})},{children:s.jsx("div",{className:a.progressInner({color:x,tone:y}),style:{width:100*M/b+"%",transitionDuration:"50ms"}})})),s.jsxs("div",Object.assign({className:a.contentWrapper({closeOnClick:v}),onClick:()=>{v&&W.remove(H)}},{children:[w&&h[w],s.jsxs("div",Object.assign({className:a.content()},{children:[T&&s.jsx("h4",Object.assign({className:a.title()},{children:T})),O&&s.jsx("p",Object.assign({className:a.description({hasTitle:$})},{children:O}))]}))]})),g.length>0&&s.jsx("div",Object.assign({className:a.actionsWrapper({tone:y,color:x})},{children:g.map(((e,r)=>s.jsx("button",Object.assign({className:a.action({primary:e.primary,tone:y,color:x}),onClick:e.onClick},{children:e.label}),`action-${H}-${r}`)))}))]}))}));g.displayName="Toast",module.exports=g;
