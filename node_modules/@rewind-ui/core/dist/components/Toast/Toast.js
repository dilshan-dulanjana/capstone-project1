'use client';
import{__rest as e}from"tslib";import{jsx as o,jsxs as r}from"react/jsx-runtime";import{useToast as s}from"./use-toast.hook.js";import{ErrorIcon as t}from"../../icons/Error.js";import{InfoIcon as n}from"../../icons/Info.js";import{QuestionIcon as i}from"../../icons/Question.js";import{SuccessIcon as a}from"../../icons/Success.js";import{WarningIcon as c}from"../../icons/Warning.js";import{useComponentTheme as l}from"../../theme/theme.context.js";import{useComponentVariant as m}from"../../theme/variant.context.js";import{usePropId as d}from"../../utils/usePropId.js";import{forwardRef as u,useState as p,useRef as h,useMemo as g,useEffect as j}from"react";import{twMerge as f}from"tailwind-merge";const v={closeOnClick:!0,color:"blue",pauseOnHover:!0,radius:"lg",shadow:"base",shadowColor:"gray",showProgress:!0,tone:"solid"},O={error:o(t,{}),info:o(n,{}),question:o(i,{}),success:o(a,{}),warning:o(c,{})},b=u(((t,n)=>{const i=m("Toast",t.variant),a=l("Toast"),c=Object.assign(Object.assign(Object.assign({},v),i),t),{actions:u=[],className:b="",closeOnClick:w,color:N,description:C="",duration:k=3e3,halted:y=!1,iconType:T,pauseOnHover:x,radius:A,shadow:F,shadowColor:P,showProgress:q,title:H="",tone:I,variant:W}=c,E=e(c,["actions","className","closeOnClick","color","description","duration","halted","iconType","pauseOnHover","radius","shadow","shadowColor","showProgress","title","tone","variant"]),[M,$]=p(y),[D,L]=p(y?1e3:0),Q=s(),S=d(t.id),z=h(null),B=h(null),G=!!H,J=g((()=>f(a.toast({className:b,color:N,tone:I,radius:A,shadow:F,shadowColor:P}))),[b,N,I,A,F,P,a]),K=e=>{B.current||(B.current=e);e-(B.current||0)>=50&&(L((e=>e+50)),B.current=e),z.current=requestAnimationFrame(K)};return j((()=>{if(M||(z.current=requestAnimationFrame(K)),x)return()=>{z.current&&cancelAnimationFrame(z.current),B.current&&cancelAnimationFrame(B.current)}}),[M]),j((()=>{k&&D>=k&&Q.remove(S)}),[D]),r("div",Object.assign({id:S,ref:n,role:"alert","aria-live":"assertive",onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),className:J},E,{children:[k>0&&q&&o("div",Object.assign({className:a.progress({color:N,tone:I})},{children:o("div",{className:a.progressInner({color:N,tone:I}),style:{width:100*D/k+"%",transitionDuration:"50ms"}})})),r("div",Object.assign({className:a.contentWrapper({closeOnClick:w}),onClick:()=>{w&&Q.remove(S)}},{children:[T&&O[T],r("div",Object.assign({className:a.content()},{children:[H&&o("h4",Object.assign({className:a.title()},{children:H})),C&&o("p",Object.assign({className:a.description({hasTitle:G})},{children:C}))]}))]})),u.length>0&&o("div",Object.assign({className:a.actionsWrapper({tone:I,color:N})},{children:u.map(((e,r)=>o("button",Object.assign({className:a.action({primary:e.primary,tone:I,color:N}),onClick:e.onClick},{children:e.label}),`action-${S}-${r}`)))}))]}))}));b.displayName="Toast";export{b as default};
