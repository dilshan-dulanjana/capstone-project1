"use strict";var e=require("react/jsx-runtime"),i=require("../Combobox.context.cjs"),o=require("../Combobox.types.cjs"),s=require("../../../helpers/text-normalize.utility.cjs"),t=require("../../../icons/Check.cjs"),a=require("../../../theme/theme.context.cjs"),l=require("../../../utils/usePropId.cjs"),n=require("react");const r=n.forwardRef(((r,c)=>{const d=a.useComponentTheme("ComboboxOption"),{value:u,label:m,description:b,media:p}=r,x=!!r.disabled,C=l.usePropId(r.id),{dispatch:h,externalSearch:j,mode:y,multiple:g,optionColor:O,radius:v,size:N,state:f}=i.useComboboxContext(),q=s.textNormalize(f.search||""),z=s.textNormalize(m||""),A=s.textNormalize(b||""),E=!j&&!z.includes(q)&&!A.includes(q),V=-1!==f.selectedOptions.findIndex((e=>e.value===u));n.useEffect((()=>{h({type:o.ComboboxActionEnum.register,payload:{value:u,label:m}}),f.initialValue&&("string"!=typeof f.initialValue||f.initialValue!==u?Array.isArray(f.initialValue)&&f.initialValue.includes(u)&&h({type:o.ComboboxActionEnum.multi_select,payload:{value:u,omitOnChange:!0}}):h({type:o.ComboboxActionEnum.single_select,payload:{value:u,omitOnChange:!0}}))}),[]);return e.jsxs("button",Object.assign({id:C,ref:c,"aria-selected":V,role:"option",className:d.button({optionColor:O,radius:v,selected:V,hidden:E,size:N,mode:y}),"aria-hidden":E,disabled:x,"aria-disabled":x,onClick:()=>{h(g?{type:o.ComboboxActionEnum.multi_select,payload:{value:u,toggle:!0}}:{type:o.ComboboxActionEnum.single_select,payload:{value:u,toggle:!0}})}},{children:[e.jsxs("div",Object.assign({className:d.optionWrapper()},{children:[p,e.jsxs("div",Object.assign({className:d.infoWrapper()},{children:[e.jsx("span",Object.assign({className:d.label({disabled:x,selected:V})},{children:m})),e.jsx("span",Object.assign({className:d.description({disabled:x,selected:V})},{children:b}))]}))]})),V&&e.jsx(t.CheckIcon,{className:d.icon({size:N})})]}))}));r.displayName="ComboboxOption",exports.ComboboxOption=r;
