'use client';
"use strict";var e=require("tslib"),r=require("react/jsx-runtime"),a=require("./sidebar.reducer.cjs"),d=require("./Sidebar.types.cjs"),o=require("./SidebarFooter/SidebarFooter.cjs"),i=require("./SidebarHead/SidebarHead.cjs"),s=require("./SidebarNav/SidebarNav.cjs"),t=require("./SidebarSeparator/SidebarSeparator.cjs"),c=require("../../theme/theme.context.cjs"),n=require("../../utils/usePropId.cjs"),u=require("react"),b=require("tailwind-merge"),l=require("./Sidebar.context.cjs");const p={color:"slate",expanded:!0,shadow:"lg"},m=u.forwardRef(((o,i)=>{const s=c.useComponentTheme("Sidebar"),t=Object.assign(Object.assign({},p),o),{children:m,color:S,expanded:h=!0,className:g,onToggle:v,shadow:j}=t,x=e.__rest(t,["children","color","expanded","className","onToggle","shadow"]),q=u.useRef(!1),[f,N]=u.useReducer(a.sidebarReducer,{hovered:!1,expanded:h,mobile:!1}),y=b.twMerge(s.base({className:g,color:S,shadow:j,expanded:f.expanded,hovered:f.hovered,mobile:f.mobile})),E=n.usePropId(o.id),w={color:S,dispatch:N,state:f};u.useEffect((()=>{q.current?"function"==typeof v&&v(f):q.current=!0}),[f,v]);const O=e=>{N({type:d.sidebarActionEnum.mobile})};return u.useEffect((()=>(document.addEventListener("sidebar:toggle-mobile",O),()=>{document.removeEventListener("sidebar:toggle-mobile",O)}))),r.jsx("aside",Object.assign({id:E,ref:i,className:y,onMouseEnter:e=>{"sidebar-head-toggle"!==e.target.dataset.role&&(f.expanded||N({type:d.sidebarActionEnum.hover,payload:{hovered:!0}}))},onMouseLeave:()=>{f.expanded||N({type:d.sidebarActionEnum.hover,payload:{hovered:!1}})}},x,{children:r.jsx(l.SidebarContextProvider,Object.assign({value:w},{children:m}))}))}));m.displayName="Sidebar";const S=Object.assign(m,{Head:i.SidebarHead,Nav:s.SidebarNav,Separator:t.SidebarSeparator,Footer:o.SidebarFooter});module.exports=S;
