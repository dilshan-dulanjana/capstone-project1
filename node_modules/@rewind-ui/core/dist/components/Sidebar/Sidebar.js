'use client';
import{__rest as e}from"tslib";import{jsx as o}from"react/jsx-runtime";import{sidebarReducer as r}from"./sidebar.reducer.js";import{sidebarActionEnum as a}from"./Sidebar.types.js";import{SidebarFooter as t}from"./SidebarFooter/SidebarFooter.js";import{SidebarHead as d}from"./SidebarHead/SidebarHead.js";import{SidebarNav as i}from"./SidebarNav/SidebarNav.js";import{SidebarSeparator as s}from"./SidebarSeparator/SidebarSeparator.js";import{useComponentTheme as m}from"../../theme/theme.context.js";import{usePropId as n}from"../../utils/usePropId.js";import{forwardRef as l,useRef as p,useReducer as c,useEffect as b}from"react";import{twMerge as h}from"tailwind-merge";import{SidebarContextProvider as g}from"./Sidebar.context.js";const f={color:"slate",expanded:!0,shadow:"lg"},j=l(((t,d)=>{const i=m("Sidebar"),s=Object.assign(Object.assign({},f),t),{children:l,color:j,expanded:v=!0,className:S,onToggle:u,shadow:x}=s,y=e(s,["children","color","expanded","className","onToggle","shadow"]),N=p(!1),[w,O]=c(r,{hovered:!1,expanded:v,mobile:!1}),E=h(i.base({className:S,color:j,shadow:x,expanded:w.expanded,hovered:w.hovered,mobile:w.mobile})),F=n(t.id),H={color:j,dispatch:O,state:w};b((()=>{N.current?"function"==typeof u&&u(w):N.current=!0}),[w,u]);const L=e=>{O({type:a.mobile})};return b((()=>(document.addEventListener("sidebar:toggle-mobile",L),()=>{document.removeEventListener("sidebar:toggle-mobile",L)}))),o("aside",Object.assign({id:F,ref:d,className:E,onMouseEnter:e=>{"sidebar-head-toggle"!==e.target.dataset.role&&(w.expanded||O({type:a.hover,payload:{hovered:!0}}))},onMouseLeave:()=>{w.expanded||O({type:a.hover,payload:{hovered:!1}})}},y,{children:o(g,Object.assign({value:H},{children:l}))}))}));j.displayName="Sidebar";const v=Object.assign(j,{Head:d,Nav:i,Separator:s,Footer:t});export{v as default};
