import{__rest as e}from"tslib";import{jsx as i,jsxs as o}from"react/jsx-runtime";import{usePopoverContext as r}from"../Popover.context.js";import{FloatingPortal as a}from"@floating-ui/react";import{arrowSideDictionary as t}from"../../../helpers/arrow-side.dictionary.js";import{useComponentTheme as s}from"../../../theme/theme.context.js";import{forwardRef as l,useState as n,useEffect as d,useMemo as m}from"react";import{twMerge as c}from"tailwind-merge";const p=l(((l,p)=>{var f,b;const g=s("Popover"),h=Object.assign({},l),{children:w,className:v=""}=h,u=e(h,["children","className"]),{controlsId:x,labelledbyId:N,arrowRef:j,color:y,context:O,floating:P,getFloatingProps:F,open:z,radius:D,shadow:I,size:S,strategy:T,withinPortal:$,x:C,y:R}=r(),[k,q]=n(!z),[A,B]=n(null);d((()=>{A&&clearTimeout(A),B(setTimeout((()=>q(!z)),z?0:75))}),[z]);const E=(null===(f=O.middlewareData.arrow)||void 0===f?void 0:f.x)||0,G=(null===(b=O.middlewareData.arrow)||void 0===b?void 0:b.y)||0,H=t({side:O.placement}),J=m((()=>c(g.base({arrowSide:H,className:v,color:y,open:z,radius:D,shadow:I,size:S}))),[H,v,y,z,D,I,S,g]),K=i("span",{ref:j,className:g.arrow({arrowSide:H,color:y}),style:Object.assign(Object.assign(Object.assign({},"right"!==H&&{left:`${E}px`}),"top"!==H&&{bottom:`${G}px`}),{[H]:"-5px"})}),L=!k&&o("div",Object.assign({id:x,ref:P,className:J,style:{position:T,top:R&&R>0&&!isNaN(R)&&isFinite(R)?R:0,left:C&&C>0&&!isNaN(C)&&isFinite(C)?C:0,visibility:null==C?"hidden":"visible"}},F,u,{children:[K,w]}));return i("div",Object.assign({ref:p,className:v,role:"dialog","aria-modal":!0,"aria-expanded":z,"aria-labelledby":N,"aria-hidden":!z},{children:$?i(a,{children:L}):L}))}));p.displayName="PopoverContent";export{p as PopoverContent};
