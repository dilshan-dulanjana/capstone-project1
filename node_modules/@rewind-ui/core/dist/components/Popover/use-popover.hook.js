import{useFloating as e,offset as t,shift as o,arrow as r,autoUpdate as n,useInteractions as l,useClick as a,useHover as i,safePolygon as g,useFocus as c,useDismiss as f,useRole as s}from"@floating-ui/react";import{inline as m,flip as p}from"@floating-ui/react-dom";import{useRef as d,useState as u,useMemo as h}from"react";function x({placement:x="bottom",initiallyOpen:y=!1,offset:P=8,trigger:R="hover"}){const b=d(null),[v,w]=u(y),{x:F,y:C,refs:O,strategy:k,context:E}=e({open:v,onOpenChange:w,placement:x,middleware:[t(P),o(),m(),p(),r({element:b})],whileElementsMounted:n}),{getFloatingProps:M,getReferenceProps:j}=l([a(E,{enabled:"click"===R,toggle:!0}),i(E,{enabled:"hover"===R,move:!0,handleClose:g()}),c(E),f(E,{referencePress:!1}),s(E,{role:"dialog"})]);return h((()=>({x:F,y:C,reference:O.setReference,floating:O.setFloating,strategy:k,context:E,getFloatingProps:M(),getReferenceProps:j(),open:v,arrowRef:b})),[v,w,F,C])}export{x as usePopover};
