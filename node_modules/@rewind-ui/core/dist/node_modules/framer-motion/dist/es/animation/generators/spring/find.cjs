"use strict";var t=require("../../../utils/errors.cjs"),s=require("../../../utils/clamp.cjs"),n=require("../../../utils/time-conversion.cjs");const r=.001;const e=12;function o(t,s){return t*Math.sqrt(1-s*s)}exports.calcAngularFreq=o,exports.findSpring=function({duration:i=800,bounce:a=.25,velocity:c=0,mass:u=1}){let p,l;t.warning(i<=n.secondsToMilliseconds(10),"Spring duration must be 10 seconds or less");let m=1-a;m=s.clamp(.05,1,m),i=s.clamp(.01,10,n.millisecondsToSeconds(i)),m<1?(p=t=>{const s=t*m,n=s*i,e=s-c,a=o(t,m),u=Math.exp(-n);return r-e/a*u},l=t=>{const s=t*m*i,n=s*c+c,e=Math.pow(m,2)*Math.pow(t,2)*i,a=Math.exp(-s),u=o(Math.pow(t,2),m);return(-p(t)+r>0?-1:1)*((n-e)*a)/u}):(p=t=>Math.exp(-t*i)*((t-c)*i+1)-.001,l=t=>Math.exp(-t*i)*(i*i*(c-t)));const d=function(t,s,n){let r=n;for(let n=1;n<e;n++)r-=t(r)/s(r);return r}(p,l,5/i);if(i=n.secondsToMilliseconds(i),isNaN(d))return{stiffness:100,damping:10,duration:i};{const t=Math.pow(d,2)*u;return{stiffness:t,damping:2*m*Math.sqrt(u*t),duration:i}}},exports.maxDamping=1,exports.maxDuration=10,exports.minDamping=.05,exports.minDuration=.01;
